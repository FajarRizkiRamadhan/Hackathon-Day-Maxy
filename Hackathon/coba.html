<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Simple API Example</title>
</head>

<body>
    <h1>Data Pelanggan</h1>
    <table>
        <thead>
            <tr>
                <th>Tanggal</th>
                <th>Nama</th>
                <th>Email</th>
                <th>Nomor Telepon</th>
            </tr>
        </thead>
        <tbody id="customerData">
            <!-- Data akan ditampilkan di sini -->
        </tbody>
    </table>

    <script>
       document.addEventListener("DOMContentLoaded", function () {
    let data; // Definisikan variabel data di sini

    fetch('http://localhost:8000/customers')
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(responseData => {
            data = responseData; // Simpan data dari respons
            if (Array.isArray(data.data)) { // Periksa properti 'data' yang seharusnya berisi array
                const customerData = document.getElementById('customerData');

                data.data.forEach(customer => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${customer.order_date}</td>
                        <td>${customer.name}</td>
                        <td>${customer.email}</td>
                        <td>${customer.phone_number}</td>
                    `;
                    customerData.appendChild(row);
                });
            } else {
                console.error('Data dari API bukan array.');
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
});

    </script>
</body>

</html>
